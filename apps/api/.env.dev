# --- Core ---
APP_URL=http://localhost:3000
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/caloriecam?schema=public
REDIS_URL=redis://localhost:6379/0

# --- Auth/JWT ---
JWT_KEY_ID=main-k1
JWT_ALG=EdDSA
JWT_ISSUER=caloriecam
JWT_ACCESS_TTL_SEC=3600           # 60 минут
JWT_REFRESH_TTL_SEC=2592000       # 30 дней
# приватный ключ Ed25519 (PKCS#8) в base64 одной строкой
JWT_PRIVATE_KEY_BASE64=REPLACE_ME_BASE64_PKCS8
# публичный ключ SPKI PEM c \n
JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nREPLACE_ME\n-----END PUBLIC KEY-----

# --- Analyzer ---
ANALYZER_PROVIDER=openai          # demo | openai | gcv
OPENAI_API_KEY=sk-REPLACE
OPENAI_MODEL=gpt-4o-mini

# --- Queue / режим анализа ---
FOOD_QUEUE=food:analyze
ANALYZE_MODE=sync                 # для тестов; в проде ставь async
QUEUE_ENABLED=true

# --- Limits ---
FREE_DAILY_PHOTO_LIMIT=5

# --- USDA ---
USDA_DATA_DIR=./data/usda

# --- Magic link / почта ---
AUTH_DEV_IGNORE_MAIL_ERRORS=true
MAILER_ENABLED=false
MAIL_FROM=no-reply@caloriecam.local
APP_LINK_DOMAIN=http://localhost:3000
